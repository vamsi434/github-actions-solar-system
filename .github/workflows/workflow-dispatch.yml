name: workflow dispatch
on: 
  workflow_dispatch: 
jobs:
    docker:
     runs-on: ubuntu-latest
     steps:
        - name: Docker Build
          run: echo "docker build -t ${{vars.IMAGE_NAME}}:latest"

        - name: Docker login
          run: echo "docker login --username=${{vars.DOCKER_USERNAME}} --password=${{secrets.DOCKER_PASSWORD}}"

        - name: docker publish
          run: echo "docker push ${{vars.IMAGE_NAME}}:latest"
          
    deploy_job:
        needs: docker
        runs-on: ubuntu-latest
        steps:
            - name: docker run
              run: echo "docker run -d -p 8080:80 ${{vars.IMAGE_NAME}}:latest"
             

